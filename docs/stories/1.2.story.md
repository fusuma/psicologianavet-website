# Story 1.2: Initialize Component Library with Shadcn/UI

## Status

Draft

## Story

**As a** Developer,
**I want** the project configured with Shadcn/UI component library,
**so that** I have accessible, themeable UI primitives ready to compose into feature-specific components.

## Acceptance Criteria

1. The project has successfully installed the **Shadcn/UI** dependencies (including Radix UI, CVA, etc.).
2. The core components (e.g., `<Button>`, `<Input>`, `<Label>`) have been initialized and are themeable.
3. The project structure is ready to compose these components into feature-specific components.

## Tasks / Subtasks

- [ ] **Task 1: Install and Configure Shadcn/UI** (AC: 1)
  - [ ] Run `npx shadcn-ui@latest init` to initialize Shadcn/UI in the project
  - [ ] Configure Shadcn/UI with appropriate settings:
    - TypeScript: yes
    - Style: Default
    - Base color: Slate (or as appropriate for theme requirements)
    - CSS variables: yes (required for theming per architecture)
  - [ ] Verify `components.json` is created in project root
  - [ ] Verify `src/lib/utils.ts` is created with `cn()` utility function
  - [ ] Confirm Tailwind CSS configuration is updated with Shadcn/UI requirements
- [ ] **Task 2: Install Core UI Components** (AC: 2)
  - [ ] Run `npx shadcn-ui@latest add button` to add Button component
  - [ ] Run `npx shadcn-ui@latest add input` to add Input component
  - [ ] Run `npx shadcn-ui@latest add label` to add Label component
  - [ ] Verify all components are placed in `src/components/ui/` directory
  - [ ] Confirm components use CSS variables for theming
- [ ] **Task 3: Verify Component Theming Capabilities** (AC: 2)
  - [ ] Review `src/app/globals.css` to ensure CSS variables are properly defined
  - [ ] Verify components can be themed via CSS variable overrides
  - [ ] Test that components render correctly with default theme
- [ ] **Task 4: Verify Project Structure Readiness** (AC: 3)
  - [ ] Confirm `src/components/ui/` contains the initialized Shadcn/UI primitives
  - [ ] Confirm `src/components/composite/` exists and is ready for feature-specific components
  - [ ] Verify project structure aligns with architecture requirements
- [ ] **Task 5: Create Simple Test Page (Optional Verification)**
  - [ ] Create a test page that renders the Button, Input, and Label components
  - [ ] Verify components render and are interactive
  - [ ] Remove or repurpose test page after verification

## Dev Notes

### Previous Story Insights

**[Source: Story 1.1 Dev Agent Record]**

- Project structure already created with `src/components/ui/` and `src/components/composite/` directories ready for use
- TypeScript strict mode enabled - all functions require explicit return types
- Tailwind CSS 3.x already configured and working
- Next.js 14.x with App Router in place
- Coding standards require explicit return types (`ReactElement` for React components)

### Technology Stack Requirements

**[Source: architecture/3-tech-stack.md]**

**UI Component Library:**
- **Shadcn/UI**: ~0.x - Foundation for all UI components
  - Purpose: Accelerates development with accessible, themeable components
- **Radix UI**: ~1.x - Accessible, headless primitives
  - Purpose: Foundation of Shadcn/UI, providing best-in-class accessibility

**Already Installed (from Story 1.1):**
- TypeScript: ~5.x
- Next.js: ~14.x
- Tailwind CSS: ~3.x
- React: Built-in with Next.js

### Component Architecture

**[Source: architecture/10-frontend-architecture.md#Component Architecture]**

- **Component Organization**: Uses clean `src/components/ui` (for Shadcn/UI) and `src/components/composite` (for feature components) structure
- **Component Template**: Components default to **React Server Components (RSC)**. The `"use client";` directive must be added only when client-side interactivity (hooks, event handlers) is required

### Base UI Components to Initialize

**[Source: architecture/6-components.md#Base UI Components (via Shadcn/UI)]**

- **Button**: A polymorphic button component
- **Form Primitives (Input, Label)**: Accessible foundation for forms

These components will be used later to build composite components like `<SignupForm />` and `<Layout />`.

### Project Structure Alignment

**[Source: architecture/12-unified-project-structure.md]**

```plaintext
/quandounamorsevai
├── src/
│   ├── components/               # All reusable FE components
│   │   ├── ui/                   # Shadcn/UI primitives ← THIS STORY
│   │   └── composite/            # Feature-specific components (future stories)
│   └── lib/                      # Third-party configurations (Shadcn utils)
```

**Note**: The `src/components/ui/` directory already exists from Story 1.1. Shadcn/UI will populate it with components. The `src/lib/` directory will be created during Shadcn/UI initialization for the `cn()` utility function.

### Styling & Theming Requirements

**[Source: architecture/coding-standards.md#5. Styling Standards]**

- **Utility-First Approach**: Use Tailwind utilities instead of custom CSS
- **Conditional Classes**: Use `clsx` or `cn` utility for conditional classes
- **Custom Colors**: Use CSS variables defined in `globals.css`
- **Shadcn/UI Theme**: Use Shadcn/UI's theming system via CSS variables

**CSS Variables for Theming:**
The project will use CSS variables for the 'dark' and 'green' themes as mentioned in Story 1.3. Shadcn/UI's CSS variable-based theming system aligns perfectly with this requirement.

### Coding Standards to Follow

**[Source: architecture/coding-standards.md]**

**TypeScript Standards:**
- No `any` type - use `unknown` if type is truly unknown
- All functions must have explicit return types
- Use `interface` for object shapes, `type` for unions/intersections
- TypeScript strict mode enabled (already configured)

**Component Standards:**
- One component per file
- File name must match component name (PascalCase)
- Server Components by default (no `"use client"` unless interactivity needed)
- Components must have explicit return type: `JSX.Element` or `ReactElement`

**File Naming:**
- Components: `PascalCase.tsx` (e.g., `Button.tsx`, `Input.tsx`)

### Testing Requirements

**[Source: architecture/14-testing-strategy.md]**

- **Testing Pyramid**: Unit, Integration, and E2E (Cypress) tests
- **Frontend Testing**: Jest, React Testing Library, jest-axe for unit and integration testing
- **E2E Testing**: Cypress and cypress-axe for full user journey and accessibility compliance

**For This Story**: No tests required - this is component library initialization only. The installed components (Button, Input, Label) come from Shadcn/UI which are already tested. Testing will be added in subsequent stories when we build feature components.

### Shadcn/UI Installation Notes

**Installation Process:**
1. Run `npx shadcn-ui@latest init` - sets up configuration
2. Run `npx shadcn-ui@latest add [component]` - installs individual components

**Expected Files Created:**
- `components.json` - Shadcn/UI configuration file
- `src/lib/utils.ts` - Contains `cn()` utility for conditional class merging
- `src/components/ui/button.tsx` - Button component
- `src/components/ui/input.tsx` - Input component
- `src/components/ui/label.tsx` - Label component

**Dependencies Added:**
- `class-variance-authority` (CVA) - For variant management
- `clsx` - For conditional class merging
- `tailwind-merge` - For Tailwind class conflict resolution
- `@radix-ui/react-*` packages - Accessible primitives for each component

### Important Implementation Notes

1. **CSS Variables Required**: Shadcn/UI requires CSS variables for theming. During init, ensure "CSS variables" option is selected.
2. **Tailwind Integration**: Shadcn/UI will modify `tailwind.config.ts` to add necessary theme extensions and plugins.
3. **TypeScript Compatibility**: All Shadcn/UI components are fully typed with TypeScript.
4. **Accessibility Built-In**: Radix UI primitives provide WCAG 2.1 Level AA accessibility out of the box.
5. **Server Components**: Shadcn/UI components work with React Server Components. Only add `"use client"` when you compose them into interactive features.

## Change Log

| Date | Version | Description | Author |
|:---|:---|:---|:---|
| 2025-10-06 | 1.0 | Initial story creation | Bob (Scrum Master) |

## Dev Agent Record

*This section will be populated by the development agent during implementation.*

## QA Results

*This section will be populated by the QA agent after story completion.*
